apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Metadata
metadata:
  name: umami
  
# Resources to deploy
resources:
- namespace.yaml
- secrets.yaml
- storage-class.yaml
- storage.yaml
- postgres-deployment.yaml
- umami-deployment.yaml

# Common labels for all resources
commonLabels:
  app.kubernetes.io/name: umami
  app.kubernetes.io/version: "v1.0.0"
  app.kubernetes.io/managed-by: kustomize


# Namespace for all resources
namespace: umami 